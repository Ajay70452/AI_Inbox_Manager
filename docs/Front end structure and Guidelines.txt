ğŸš€ 1. Overall Frontend Architecture
You will have two separate frontends:
A. Web App (React / Next.js)
For:
Onboarding
OAuth initiation
Company context setup
Integrations (Slack, Notion, ClickUp)
Dashboard + analytics
Settings
B. Chrome Extension (React + Vite)
For:
Inline AI inside Gmail/Outlook
Quick actions
Reply drafts
Summaries
Tasks
Both share some code, but run in different environments.

ğŸ“ 2. Web App â€” Folder Structure (Next.js)
/frontend
 â”œâ”€â”€ /app
 â”‚    â”œâ”€â”€ layout.tsx
 â”‚    â”œâ”€â”€ page.tsx (Dashboard)
 â”‚    â”œâ”€â”€ /auth
 â”‚    â”‚     â”œâ”€â”€ signin/page.tsx
 â”‚    â”‚     â”œâ”€â”€ callback/google/page.tsx
 â”‚    â”‚     â””â”€â”€ callback/outlook/page.tsx
 â”‚    â”œâ”€â”€ /settings
 â”‚    â”‚     â”œâ”€â”€ company/page.tsx
 â”‚    â”‚     â”œâ”€â”€ integrations/page.tsx
 â”‚    â”‚     â”œâ”€â”€ context/page.tsx
 â”‚    â”‚     â””â”€â”€ team/page.tsx
 â”‚    â”œâ”€â”€ /emails
 â”‚    â”‚     â”œâ”€â”€ [threadId]/page.tsx
 â”‚    â”‚     â””â”€â”€ page.tsx
 â”‚    â”œâ”€â”€ /logs
 â”‚    â””â”€â”€ /analytics
 â”‚
 â”œâ”€â”€ /components
 â”‚    â”œâ”€â”€ ui (shared components)
 â”‚    â”œâ”€â”€ forms
 â”‚    â”œâ”€â”€ charts
 â”‚    â”œâ”€â”€ inbox
 â”‚    â”œâ”€â”€ context-editor
 â”‚    â””â”€â”€ integration-cards
 â”‚
 â”œâ”€â”€ /lib
 â”‚    â”œâ”€â”€ api.ts (Axios wrapper)
 â”‚    â”œâ”€â”€ auth.ts
 â”‚    â”œâ”€â”€ helpers.ts
 â”‚    â”œâ”€â”€ constants.ts
 â”‚    â””â”€â”€ validation.ts
 â”‚
 â”œâ”€â”€ /hooks
 â”‚    â”œâ”€â”€ useUser.ts
 â”‚    â”œâ”€â”€ useEmails.ts
 â”‚    â”œâ”€â”€ useIntegrations.ts
 â”‚    â””â”€â”€ useCompanyContext.ts
 â”‚
 â”œâ”€â”€ /store
 â”‚    â”œâ”€â”€ userStore.ts
 â”‚    â”œâ”€â”€ emailStore.ts
 â”‚    â””â”€â”€ uiStore.ts
 â”‚
 â”œâ”€â”€ /styles
 â”‚    â””â”€â”€ globals.css
 â”‚
 â”œâ”€â”€ /assets
 â”‚    â””â”€â”€ logos, icons, svgs
 â”‚
 â””â”€â”€ package.json

ğŸ“ 3. Chrome Extension â€” Folder Structure
/extension
 â”œâ”€â”€ /src
 â”‚   â”œâ”€â”€ index.tsx (entry point)
 â”‚   â”œâ”€â”€ /content-scripts
 â”‚   â”‚     â””â”€â”€ gmail.ts (DOM observer)
 â”‚   â”œâ”€â”€ /background
 â”‚   â”‚     â””â”€â”€ index.ts
 â”‚   â”œâ”€â”€ /components
 â”‚   â”‚     â”œâ”€â”€ Sidebar.tsx
 â”‚   â”‚     â”œâ”€â”€ SummaryCard.tsx
 â”‚   â”‚     â”œâ”€â”€ ReplyDraft.tsx
 â”‚   â”‚     â”œâ”€â”€ PriorityBadge.tsx
 â”‚   â”‚     â””â”€â”€ TasksList.tsx
 â”‚   â”œâ”€â”€ /hooks
 â”‚   â”œâ”€â”€ /lib
 â”‚   â””â”€â”€ manifest.json
 â””â”€â”€ package.json
This mirrors the web app structure but optimised for in-Gmail UI.

ğŸ¨ 4. UI/UX Guidelines (Very Important)
Look & Feel
Clean, minimal, b2b SaaS
White + grey palette
Accent color for priority/emotion states
Consistent spacing system: 4/8/12/16/24px
Components You Should Build:
<Card />
<Input />
<Button />
<Badge />
<Modal />
<Sidebar />
<LoadingOverlay />
<IntegrationButton />
Use your own design tokens:
--primary-color
--bg-light
--bg-dark
--text-primary
--radius-lg
--shadow-sm

ğŸ§© 5. State Management Guidelines
Use:
Zustand for global state:
User
Integration status
Company context
UI preferences
React Query for server API state:
Emails
Summaries
Tasks
Slack alert settings
This is the correct separation:
Zustand â†’ Client state
React Query â†’ Server state

ğŸ”Œ 6. API Interaction Guidelines
API Wrapper (lib/api.ts)
Axios instance
Inject JWT in headers
Automatic error wrapping
Example:
import axios from "axios";

export const api = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_URL,
  withCredentials: true,
});

api.interceptors.response.use(
  (res) => res,
  (err) => {
    console.error(err);
    throw err?.response?.data || "API_ERROR";
  }
);

ğŸ” 7. Authentication + Routing
Flow:
User visits web app
Signs in using our auth (email/password or magic link)
Connect Gmail/Outlook via OAuth
Redirect to dashboard
Protect routes using:
export default function ProtectedRoute({ children }) {
    const { user } = useUser()
    if (!user) return <Redirect to="/auth/signin" />
    return children
}

ğŸ’¬ 8. Inbox Views Guidelines
Email Thread View Contains:
Summary
Sentiment score
Priority label
Suggested reply draft
Extracted tasks
Slack escalation toggle
Metadata (sender, timestamp)
List View:
Subject
Priority badge
Sentiment indicator
â€œAI summary on hoverâ€
Thread length
Status (Replied / Pending)

ğŸ§  9. Company Context Editor Guidelines
The company context is the brain of your system.
Make it easy to manage.
Editor Tabs:
About company
Tone guide
Product info
FAQ
Policies (refund, SLA, onboarding)
Team roles (billing, support, sales)
Use a smart editor with:
Markdown support
AI â€œrewrite / improveâ€ button

âœ¨ 10. Chrome Extension UI Guidelines
Sidebar (Right Side of Gmail)
Sections:
Summary
Priority
Sentiment
AI Reply Draft
Extracted Tasks
"Send to ClickUp / Notion / Slack" buttons
UI rules:
Must be narrow (300â€“340px)
Must match Gmail styling
Should animate in/out smoothly
Must collapse when no email is selected
Must sync instantly with backend

âš ï¸ 11. Error Handling Guidelines
Show toast notifications for:
API errors
Failed AI generation
Failed Slack alerts
Invalid config
Examples:
Something went wrong while generating the reply.
Slack integration is not connected.
Could not fetch emails. Please reconnect Gmail.

âš¡ 12. Performance Guidelines
Debounce search input by 300ms
Use React Query caching
Paginate email lists
Pre-fetch next 5 threads
Memoize heavy components
Lazy-load charts + analytics

ğŸ§± 13. Reusability Principles
All logic must be reusable across:
Web App
Chrome Extension
Use shared libs for:
Text parsing
Gmail/Outlook formatting handling
Sentiment color mapping
Priority â†’ badge rules
Task standardization
Create a /packages/shared folder later (phase 2).
